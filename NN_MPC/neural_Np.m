 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Author: Yassine Kebbati
% Date: 10/07/2021
% Control NNMPC-Autonomous_Driving
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function [Y,Xf,Af] = neural_function(X,~,~)
%NEURAL_FUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 12-Sep-2021 17:14:29.
% 
% [Y] = neural_function(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 4xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-14;3;0.5;-30];
x1_step1.gain = [0.0714285714285714;0.0833333333333333;5;0.0333333333333333];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.3355683857230209455;3.1041949426449275684;-2.9265836132590501428;-2.6967697662587339913;-2.472537102121604935;-2.2507964602515162511;2.0529326138906660582;-1.8508550155776608559;1.6097231660989936852;-1.3538063289282133983;1.1796305426580135922;-0.98126036094449176073;-0.74928010422265534096;0.54467381186956354;0.32332222242593838812;0.084254439323985921839;-0.058976041765517517312;-0.31323962240190150741;-0.52928096479387365392;0.74160692566330843611;0.94961140555967493704;-1.1997841416563710393;1.417526080313557868;-1.5994545908670176892;-1.7633213174247839294;2.0603208837684006127;-2.2582569120408551022;2.4655227175934859574;-2.7078229061780572096;-2.9358338691781877827;-3.1300303288016828596;-3.3202984124135435096];
IW1_1 = [0.57914646524312185516 -2.8944286348269048226 1.0981794272398308632 -1.0558568172162001719;-1.3315682623614391034 -1.0004675905006998882 2.2452401734535807343 1.8335112548602203741;2.5322970501156598644 0.73849396512190290665 -1.9480308310290266327 -0.42981375957500589369;1.5135842798387439956 1.0064723032277005377 -2.5030732596660270062 -1.1796274107820643451;1.3024943381994413816 -2.3363789423895489072 -1.533211481048866176 -1.2537346286538200157;0.51345335049875706623 -0.10375856917204349938 -2.35548473289518423 2.3033592332729546648;-0.74331974445638149263 2.0611267729185329678 -1.4929375453604827317 1.9929557631822663044;0.25704032878793747763 -3.1471211777708916202 -0.98379189773254971385 -0.11184922041065903375;-0.61057213775192453742 -3.2690288401080964675 -0.046153951270488727254 0.13492178534611493079;1.0904070096208797747 -2.9262390723979416762 0.56399888839022915832 -1.0728302494438797243;-1.3679342903136324505 -1.2714715578847444188 1.7613425731335974334 -2.1189122312351482691;2.0247515242217244413 0.60787287812518020491 -0.70244490540298398784 2.4646506062566650996;3.0281953805627570553 0.32591316392726771278 1.2144241720531439022 0.57436824840540856574;-1.5496257276585136964 1.2867836533768741702 2.0783846526392748544 -1.6287723889480101302;-1.9510742795616435874 -1.9101531325068927814 -1.5941380325393459394 -1.0217479434348559764;-1.7661970841560250545 -1.9781914287734401192 1.018684713111000173 -1.7485380133922727719;-2.7107996001964043131 1.7126145827788494813 -0.14796281029744298707 0.92765692811551581087;-1.084203845108812736 2.7052084650500543006 -0.7894118972417617508 -1.3869977037211853599;-1.2659337309266307514 -1.1639797568186820431 1.7118632649555287628 2.2717465806331174072;1.4989242749489997131 -1.9687065629874966888 -0.90784744733872857481 2.0286995394182052443;1.7646211548979244821 -2.7968028507486670797 0.27756892808195970934 -0.29368316847502362599;-2.3584191758796566596 -2.0200659634619477778 -0.79800787958211383266 0.86010040366276119261;0.034492035285746000528 -2.0245618603338861874 2.3882158922483363028 -1.0763784091418200362;-1.744027383248542673 1.4781974256296517289 0.90983046255076960307 -2.2492843917062943504;-1.2973213000145937812 1.7092483430778997455 1.6689150085507964416 1.9506486016220208057;1.7275011072716248695 -0.85615154550705518943 -2.6214500557898983146 0.60647891862381075878;-0.48039070139574591156 2.4773054148434714428 -2.0791510062032099171 0.62611414354263272841;2.8409837792430137071 -1.3005030727508191113 0.94491567282907573677 -0.65058894167903436045;-1.7200001765159802503 -1.0830594535164377312 -1.3597868587582637723 -2.2321785818308685911;-2.0540940060193668693 -1.647180396718318951 1.9916013646890948774 -0.011274760795428252769;-2.9161531307590840001 1.1737940576807412985 0.82053861989205856275 -0.66548778236364114491;-2.042981973555403119 1.2021490821846092523 -2.1398192090057248649 0.97538524915556035211];

% Layer 2
b2 = [-1.5086545386201835051;1.3127920155540924174;-1.1606599618352189118;0.90694339576427329686;-0.73983768994440646249;-0.53577658926254745353;0.2716454653475193215;0.10234749351858744848;0.11058668837868224077;0.38450061546075514629;0.47135630945129314284;-0.73109873577813710988;0.86756953755753352109;1.0805864528900441801;1.2735902514086898663;1.5365816952233739556];
LW2_1 = [0.22561844204406586445 0.4449452027602066595 0.40092328376641211962 -0.3317039734535606188 0.36113145394028306479 -0.316700620139311384 0.46808668236363948356 0.27495554781388747978 0.29686771680487850089 0.40260147863569412108 -0.38201229665157043769 -0.30587520998021028307 -0.37102382110832637929 -0.17944341333060809252 0.25523190728501971014 -0.060694000868688778583 -0.35111855012388187847 -0.03264205898898540209 -0.0043414820367516405997 -0.082643861255385892006 0.22875792411996143105 0.07111704515869521348 -0.12221275681087513665 0.2608990531510668176 -0.14751082585105668166 0.042661239418953708635 -0.059241373657396574626 0.36689482626529223985 0.02898101957516070401 -0.10033067373412286882 0.23287261748980209175 0.20385122065910762923;-0.041427734177352557032 0.43035423166490122115 0.29109595646271851921 0.35805552242700405818 -0.12548004547092117544 -0.11637375881010190992 0.15164049534642234929 0.14102383139153873426 0.35598289113471487388 0.1813688225127456366 0.046806213856555957398 -0.17226498724452274369 0.33668468531015754985 0.24976662141059086109 -0.10248605078981369576 -0.12338327113667592327 -0.25940793473049800211 -0.27071993655206166851 0.078972161342303254239 -0.3675676494635262137 0.48032726050463103729 -0.46029903697242202654 0.066318401877369342889 -0.20689857728867444564 0.1734154603758172597 -0.10825146880037515851 0.31877824478287603016 -0.19116907080410933117 0.46469003500581457233 0.48479699248796587208 -0.057988963402255552793 -0.29759160955273217253;0.44112646197383603708 -0.004945873719612118094 0.46093626045843216765 0.060848969773395961136 -0.085869523165481978499 -0.13459133339020928899 -0.13151248510650742629 0.37381392720855771694 0.18994611338236852549 0.044687517852516636663 0.29748736367179051676 0.13694543377399351347 -0.24028373601317593033 0.086757407193847391191 0.36518662063639373283 -0.32637849495277659884 -0.26204778235948772425 -0.295666205726661524 0.0094779618859512238666 0.12393008944304283181 -0.40490377168844704503 -0.12617737901966993852 -0.4088583721646192326 0.32983016352884436673 -0.012285436968093603818 -0.13358843304668321927 0.10030684084192975636 -0.40060630474371666798 -0.43724784333287891602 -0.25364346843422003186 -0.26305026294492378502 0.1641139315931795517;-0.41148767349429771212 -0.15181164121517698451 -0.26482100585419326988 -0.25263639813375948773 0.46986683823876423949 -0.24221721935761877931 -0.072803903650934517766 -0.13943524352505495822 -0.431782562849364282 -0.3707128803421420038 -0.033490100795283160584 -0.51349953486880306475 -0.1539350205878796396 -0.13104381163617992434 0.31171510370292121461 -0.42657103633830006917 0.28751448653375527575 -0.37823400273532192806 -0.084499191854491687015 0.12695352479636382026 -0.20922129340504708184 -0.45362885918447154454 -0.2418634879743474797 -0.072048492624694329689 0.12591877158431769024 -0.35873249225325926082 0.31346686578105570353 -0.13705866484693882135 -0.023547087983847015541 0.040134223097026987259 -0.10586026307000682978 0.0058418430291818559258;0.1691484767685118018 -0.35345551744597497601 0.17373591618703373984 -0.42309682361481987245 -0.2128598181558337965 0.15025424570148421255 -0.18521897059109204697 -0.28181872935571433691 0.14919039178811097091 0.12114394205759966561 0.23645549753431410744 -0.31552624180368743501 0.20306199923446222044 -0.17326690987856741 -0.44098616805964119258 -0.16662340220156665604 -0.062527737435846775238 -0.37111423030227846942 0.11286111612457376541 0.38381052181253305644 -0.14648873403123430226 0.33667977133325832639 -0.38796363564599928297 -0.021011365311820257712 -0.35907345034749543755 -0.33003922809781854886 -0.061425986376362963493 0.078536542459694144713 -0.26454186085268166506 0.073388599353244460266 0.51508421790544745011 -0.20576294994497015822;0.24459320175950843845 0.14351248433575222729 0.21296531730876627764 0.29606510175040146038 -0.2974167229951889535 -0.18423452296008430151 -0.40386896593457477511 -0.091096026635422225337 0.26727765761115573895 0.34941880826422822004 -0.25947111538486167248 -0.1551732807449587026 0.079589669790158620866 -0.080979568208766547488 -0.031924334896683219387 0.059677483723788206371 0.23996281679512940221 0.32848768732247873858 -0.28894679289377228626 0.36335623788504689546 -0.14601211049924534002 0.39115467772798134805 -0.048337760851811989449 -0.31319970387574402881 -0.40981129386534687065 0.29229932324528618004 0.277989238938130101 -0.22645158184527375278 0.3273590457541810661 0.42536674316636807758 0.23091135509660956626 -0.21084005329485472346;-0.1832791496482622795 -0.11025451810119697715 0.17380184879020535438 -0.24095167872434378187 0.26137364700513993077 0.089396379443630019646 0.13202610011356538666 -0.20812561808297083688 0.37692716598105269199 -0.1658759504871240853 0.27437624753513739639 0.303805347534738035 0.25274615164924069122 0.43507903548089316148 -0.20231109615985379269 -0.10990757455898832184 0.37457212810054635321 -0.35632097063500306477 -0.32232700107811673718 -0.031524071481017115759 -0.44123634511749465492 0.12770247593238512329 -0.35297379918266252874 -0.11674372140715186252 -0.25688232562415291849 -0.39262946603916876187 -0.35427030170494672179 -0.16854682401965909166 0.15344734868614948176 0.35129645703546708013 0.34860570617200353771 0.13591050236678928198;-0.10398723763419773225 -0.42239940828079025614 -0.12318720919512866907 0.14860168327044462333 0.11501853021279398459 0.19342302442549047514 -0.20090470631588644435 -0.2321250962206206081 -0.4166671749612075315 0.31640498475014083857 -0.28810541272844769622 -0.18190720017156161714 -0.065516839508045543461 0.36210762022292758422 0.18923254748159343275 0.41069506279629314216 0.43645116147510071292 -0.027723661151677937708 0.29766589461668008232 -0.19758055849587100039 -0.11680829156968244864 0.37237532376590160021 0.043403746848126402436 -0.30848660518360676575 -0.36246133290069337818 -0.32958265523253610363 -0.16175140481316618857 -0.063753376519128490685 0.24507555451399223867 0.13859504966905347723 -0.33568671155044088605 0.31883420952950586313;0.20754863261148592812 0.26226239156108560602 -0.15500008118531405366 0.24230825463593730351 -0.43367830550203517737 -0.14604597044793554694 0.08333847856795775777 -0.033150783517382445553 -0.33051628776740177296 0.020714899205146561356 -0.26737954461909108073 -0.22933638439715395285 -0.30817206305953370737 0.092828469600976626364 0.29939625029687710889 0.29445560684621158165 -0.34857387686536034366 -0.10718374605874153582 0.095538375538717607016 0.020829890247897667882 0.37037656477012398382 -0.48116985930245564917 0.30929498359435458887 -0.39724113568671920449 0.32436739757614807544 -0.2082300444593520039 -0.22110491746466634511 0.3049732988190252958 -0.2894407472601939757 0.39015346537844247665 0.12468421525880213352 0.0054390403647031010728;-0.021429186594531798166 -0.032772626276794745992 -0.38163562674400131058 -0.080764186122493517028 -0.092349745356773066396 0.29765856963601355911 -0.20056617641387114448 0.31905775102463029835 -0.26581441732855698445 0.28169469446918415922 0.16100899956215422582 -0.33818225489727254951 0.25419175721796533063 0.021816850267503632571 -0.07217245198329748368 -0.22963107967268389653 0.37366991121133591447 -0.43883495436060415695 -0.29735968869181955698 -0.33165505061087013905 -0.18330662587530743846 0.1885617933570746807 -0.21948475981708034932 0.31346497983518101238 0.42413833573276787936 0.0976468503603611232 -0.33711867327437200492 -0.28381711799558456688 -0.32951782739317886373 -0.40195841539272703091 -0.29569128636629754547 -0.035462578642293844655;0.30761770666003263042 -0.12502428095832890387 0.29219753220862965115 -0.46135604622848480627 -0.043757383137835711984 -0.05563437538482980671 -0.3636724844436903803 0.22470491385296920139 0.049950093238791432038 0.2008991035217138621 -0.27106781700674736912 0.28430621085459573116 0.42985249050956736427 0.17585714997191034814 0.2931638396493757015 0.24368020888101693533 -0.31445135755975323066 -0.37645741387431580494 -0.15271178408430580165 -0.40668638474425611307 0.39054039802224849165 -0.22282625470906589071 0.23406085634940973494 0.073162009755839682579 0.22692877819409512652 0.36138583453446837535 0.15604359659663583071 -0.12899671602510445756 0.087661616743993905909 0.34008522128556273323 0.19264500315544358378 0.20531425329052652162;-0.32470880697229553835 -0.011233382233111151999 -0.1743355877346220717 0.40625932755171856314 0.2588237906812346778 0.094917817040908070148 0.30306201436908258851 0.3255086409391726443 0.44834909304741604741 0.037030481101069025185 0.27074694104658270088 0.25023017909847877771 0.42661753052521778073 0.0037628572874389056707 0.11131018245648069409 -0.45508080214807367092 0.45313137211812715144 0.14837110747558010515 0.27703091327574541625 0.20103100408971649737 -0.28448975778267837633 -0.20637695395199431858 -0.28623584247865668795 -0.23442879405667640946 0.18759821968650555735 -0.3220733496779902838 0.17174845817093079003 -0.10243056771913569558 0.040925309673221131612 -0.078308183338339262813 0.37747598972035650844 -0.24393466761078833049;0.43156924940964441761 -0.19089145752061406625 0.29475961875514528066 -0.12374731972093352961 -0.09689640189848328089 0.20653937601350161324 -0.38450510543520960427 0.24113599341776625895 0.25294171903004658564 0.3304563768640428334 0.32496444885952557868 -0.2447122505133334236 0.44549904852527671961 0.21121228132040145709 -0.41622908840526079421 0.18896056028943250538 0.30914494179346618807 -0.040746587123831536081 -0.075999192085546396491 -0.17229224311701360484 -0.063468275187636188917 -0.17425477309472259257 -0.26521150852182368007 0.44830642631598499603 0.36947600720202428137 -0.048150788791798099231 -0.17055016050902022107 -0.31918601005559649186 0.31603087870869855935 0.39754916745207502515 -0.12074973695393032003 -0.17782204413454077985;0.54338693178366737069 -0.13875977045597445714 0.34530696801345195368 -0.17720869395082131104 -0.30014945564333261885 0.10622932545920966974 -0.35879126615930861943 0.35158882674597091711 -0.27006012876773516362 0.095895813894354628437 -0.4300386293009916816 -0.21346644036091311225 -0.10277909153200733006 -0.32684774012953288214 0.20506398608266304673 0.40633256588222255168 -0.36779835699401058902 -0.19361786961405832996 0.2680104586457550675 0.069330286991132278329 -0.071055114257717572057 0.34028380919370682101 0.018350677978176677813 0.43477573327153706817 -0.33859449759277593373 -0.37248572861154816138 0.19221190396694265434 -0.060362998164407440094 0.3851219324222734941 0.14742397429567172251 0.04662404501186791228 0.061928353900904786755;0.47200867098657628418 -0.31816681085482206859 -0.23856633379218597502 0.32161024584210601285 0.09022196966068850299 0.074279670702326522358 0.1218718968733502328 0.38951056980978210342 -0.42415049824279704715 0.26039512505605200143 -0.072396340409980775021 0.068121903411388962102 0.41406736324763077084 0.10201019278650726163 0.32382455574867974324 0.34371607212201699122 -0.029825054333062674811 0.16156985861592365605 0.12713781853752947892 0.23236641784570183367 -0.29156078630680737351 0.33910226814042415677 -0.0043364621741718636927 0.39036057966253889795 0.29677579815269783392 0.13869273837605361477 0.40898052342152341199 0.30470601518657713935 0.024612353111913950338 0.3852049551907767988 0.20924013292203461067 -0.26894040721335193966;0.47159243885189938705 0.48555881175274878681 0.22937669032092913857 0.35873783992248653441 -0.042667971986621124059 0.14488385554263763511 0.28929022526140418803 0.088597656999331725336 -0.41068120946218472644 -0.05949811346370523224 0.088724460258845602723 -0.24175606169486932306 -0.3267994440557773772 0.2603200690570647291 0.16836789279078917536 -0.23069103876696681055 0.43489114226979908029 -0.095883621942103952618 -0.026639329742427619169 0.1035025936322268858 0.01982119898483155826 -0.27770133486134768175 0.34485782221790134416 0.17586829079413879295 0.32305907247959164685 -0.10052539542475960599 0.28433342045196746684 -0.040526408450808050488 0.23587269845721278716 0.2532125337455509162 0.093199046535674734404 0.45382691252283485772];

% Layer 3
b3 = [-1.5921349618051590102;1.1901894658820495465;-0.68954828126982581349;-0.24296359934445349582;0.12923627559253608732;-0.62698549743384890398;1.2146568281075356133;-1.6291524347128230055];
LW3_2 = [0.29366819649693448602 -0.67892074486139786238 0.29689731617476228243 0.10731271562617629434 -0.33751666846332611938 0.45034170308250942583 -0.5740476745740007436 -0.40567531643836945987 0.51009616626739739953 0.090494261818226409688 -0.2564240243882959791 0.32764689519633921622 -0.56463238433100892966 0.46630693201889344968 0.11899734267366927909 -0.23593789465110245884;-0.6188474306357507615 0.34672009140371290448 -0.66454716849783546095 -0.53093571267099093358 -0.29332924788924841231 -0.3089750664186914908 0.18495416686170559895 0.54502113920295502947 -0.41810880898725516497 -0.10207960822337278084 0.11674501128959940965 0.53399673319293539109 0.3985772787511148163 0.18034063133334971019 -0.11355884427096149536 -0.055705322735429496639;0.38525719267092950471 0.50321535257985461342 0.16939012447206194811 -0.49905427102562394115 0.019577670825285591744 -0.33676679522557778634 -0.55721912944627893793 -0.64668162671827567056 -0.50721871051221234517 0.21881769834210113013 0.58161711382918401814 0.14904752653136077445 -0.20060697109902603241 0.11952245043281262138 -0.33216478452630426865 -0.42355987685422075151;0.042139075177080320689 -0.15455346561759078505 0.11490510283285113036 0.18997817353586551881 -0.27822000200355467836 -0.51928742380885772878 0.32737138969357476581 0.65618763858888951024 -0.18726938943120005621 -0.2845909075673719868 0.56391992837582582965 0.59567559622693089239 0.52102101286851743023 0.37908206559079987708 -0.31582027756027319931 0.42904658101970616357;0.69841495132814179758 0.50007209684437292641 0.036989827440882798448 -0.4728595020344175115 -0.0085093162833240233722 0.048080457270664046787 -0.15683953015537399622 -0.49670376607016097914 0.35177117985165767822 -0.53931745946569953354 0.50663699499711045693 -0.0073698169169079310453 0.44011195277859932462 0.095294073868115350412 -0.12328900045557263099 -0.061869424048571861063;-0.42786259394278419732 -0.3128227786258157006 -0.63959026301308452567 0.4823369100573131063 0.045890161857280301061 -0.58528089825065510166 0.053608465105515638871 -0.42449968446156377544 0.00068950241837108954858 0.49602323477929310958 0.33571230384034683736 0.079204693862266015159 -0.45800773669085026452 0.29069226551800042557 0.34264417701404603633 0.45303266028810346144;0.19479521837383334537 0.4112555621815271456 0.019391686706120181416 0.59193945658189273118 0.29598077438408193496 -0.48258970917637189491 -0.34224197503800152242 -0.40152937498380480985 0.38730998539273608916 -0.017322793729053716227 -0.016674029132995777519 -0.50687883525708876675 0.46573946673370619775 -0.46170830785667577034 -0.44928967536701447383 0.51302504167009865821;-0.061695398429499413717 0.071657965090649616835 0.22812788827623864396 0.51360356285004360455 0.39562220501302963749 -0.45010274164801178376 0.54483178001861465312 0.45556304764611033065 -0.32021432832671409274 -0.26287250162548841947 0.54399181601995705293 0.55962166515333400252 -0.58341777734844901815 0.29124865729474486153 0.15872923667291272132 0.2814456907853093437];

% Layer 4
b4 = 0.6210425440295228583;
LW4_3 = [-0.40450441243596385599 -0.31387825149718617812 0.29918718908591956929 0.25941026514242049306 -0.38332146044649872962 -0.3020963422737413806 -0.72603189597700479307 -0.81334307339046485463];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0384615384615385;
y1_step1.xoffset = 3;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = repmat(b4,1,Q) + LW4_3*a3;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a4,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(4,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
